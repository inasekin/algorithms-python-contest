"""
Задача о нахождении наибольшей возрастающей подпоследовательности (LIS).

Дана последовательность чисел. Нужно найти её наибольшую строго возрастающую подпоследовательность.

Решение через динамическое программирование:
- dp[i] = длина наибольшей возрастающей подпоследовательности, заканчивающейся на элементе i
- parent[i] = индекс предыдущего элемента в оптимальной подпоследовательности
- dp[i] = 1 (минимум - сам элемент)

Для каждого элемента i проверяем все предыдущие j < i:
- Если a[j] < a[i], можем продолжить подпоследовательность:
  если dp[j] + 1 > dp[i], обновляем dp[i] и parent[i]

После заполнения dp находим индекс с максимальной длиной и восстанавливаем
саму подпоследовательность, идя по цепочке parent.

Сложность: O(N²)
"""

n = int(input())
a = list(map(int, input().split()))

dp = [1] * n
parent = [-1] * n

for i in range(1, n):
    for j in range(i):
        if a[j] < a[i] and dp[j] + 1 > dp[i]:
            dp[i] = dp[j] + 1
            parent[i] = j

max_length = max(dp)
max_index = dp.index(max_length)

result = []
current = max_index
while current != -1:
    result.append(a[current])
    current = parent[current]

result.reverse()
print(' '.join(map(str, result)))