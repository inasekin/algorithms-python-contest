"""
Задача: Город Че

В городе есть пешеходная улица с n памятниками. Девочка Маша хочет организовать
свидание двух мальчиков так, чтобы они не увидели друг друга во время прогулки.

Мальчики увидят друг друга только если будут находиться на расстоянии не более r метров.

Нужно найти количество способов выбрать два различных памятника для организации
свиданий так, чтобы расстояние между ними было больше r метров.

Решение:
Используется алгоритм "два указателя" за O(n).

Идея:
- Памятники отсортированы по расстоянию от начала улицы
- Для каждого правого памятника находим сколько левых памятников подходят
- Чем левее памятник, тем больше расстояние до правого памятника
- Поэтому существует граница: все памятники левее неё подходят, правее - нет

Алгоритм:
1. Проходим по всем памятникам как "правым"
2. Поддерживаем указатель boundary - первый памятник слева, который НЕ подходит
3. Двигаем boundary вправо, пока расстояние до правого памятника > r
4. Все памятники от 0 до boundary-1 подходят для пары с текущим правым

Пример: памятники на расстояниях [1, 3, 5, 8], r=4
- Для памятника 8: подходят памятники 1 и 3 (расстояния 7 и 5 > 4)
- Ответ: 2 способа
"""

num_monuments, max_visible_distance = map(int, input().split())
monument_positions = list(map(int, input().split()))

pairs_count = 0
left_boundary = 0

for right_monument in range(1, num_monuments):
    while (left_boundary < right_monument and
           monument_positions[right_monument] - monument_positions[left_boundary] > max_visible_distance):
        left_boundary += 1

    pairs_count += left_boundary

print(pairs_count)